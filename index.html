<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>HealingLensStudio Calm</title>
  <link rel="manifest" href="manifest.json">
  
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <meta name="apple-mobile-web-app-title" content="HealingLensStudio Calm">
  <link rel="apple-touch-icon" href="logo.png">

  <style>
    body {
      margin: 0;
      font-family: 'Libre Baskerville', serif;
      background: linear-gradient(135deg, #f5f1ec, #e6f0ec, #fdfcfa);
      color: #2E2E2E;
      display: flex;
      flex-direction: column;
      align-items: center;
      min-height: 100vh;
      padding: 20px;
      text-align: center;
    }

    .logo img {
      width: 120px;
      margin: 15px auto;
      display: block;
    }

    h1 {
      font-family: 'Poppins', sans-serif;
      font-size: 1.8rem;
      margin-bottom: 5px;
    }

    h2 {
      font-family: 'Libre Baskerville', serif;
      font-size: 1rem;
      font-style: italic;
      margin-bottom: 20px;
    }

    .prompt-box {
      background: #fff;
      border-radius: 16px;
      padding: 20px;
      max-width: 500px;
      box-shadow: 0 6px 20px rgba(0,0,0,0.08);
      margin-bottom: 20px;
    }

    .prompt {
      font-size: 1.1rem;
      line-height: 1.6;
    }

    button, select {
      min-height: 44px;
      margin: 8px;
      padding: 10px 18px;
      border-radius: 12px;
      border: none;
      font-size: 1rem;
      cursor: pointer;
      font-family: 'Poppins', sans-serif;
    }

    button {
      background: #EED9D0;
      color: #2E2E2E;
      transition: background 0.3s;
    }

    button:hover, button:focus {
      background: #D5E0D5;
      outline: none;
    }

    .favorites {
      margin-top: 20px;
    }

    .breathe-circle {
      width: 100px; height: 100px;
      margin: 20px auto;
      border-radius: 50%;
      background: #EED9D0;
      display: none;
    }

    .footer {
      font-size: 0.8rem;
      margin-top: 20px;
      font-style: italic;
    }

    @media (max-width: 600px) {
      h1 { font-size: 1.4rem; }
      .prompt { font-size: 1rem; }
      button, select { font-size: 0.9rem; padding: 10px; }
    }
  </style>
</head>
<body>
  <div class="logo">
    <picture>
      <source srcset="logo.webp" type="image/webp">
      <img src="logo.png" alt="HealingLensStudio Logo">
    </picture>
  </div>

  <h1>HealingLensStudio Calm</h1>
  <h2>For the Quiet in You üåø</h2>

  <label><input type="radio" name="mode" value="prompt" checked> Prompts</label>
  <label><input type="radio" name="mode" value="affirmation"> Affirmations</label>

  <div>
    <select id="category" aria-label="Choose category">
      <option value="mindfulness">üåø Mindfulness</option>
      <option value="movement">‚ú® Movement</option>
      <option value="kindness">üíõ Kindness</option>
      <option value="creativity">üé® Creativity</option>
    </select>
  </div>

  <div class="prompt-box" id="promptArea">
    <p id="prompt" class="prompt">‚ú® Loading your calm‚Ä¶</p>
  </div>

  <button onclick="newPrompt()" aria-label="Get a new prompt">üå∏ New</button>
  <button onclick="copyPrompt()" aria-label="Copy prompt">üìã Copy</button>
  <button onclick="savePrompt()" aria-label="Save prompt as image">üíæ Save</button>
  <button onclick="addFavorite()" aria-label="Add prompt to favorites">‚≠ê Favorite</button>
  <button onclick="viewFavorites()" aria-label="View saved favorites">üìñ View Favorites</button>

  <div class="favorites" id="favorites"></div>

  <h3>Breathe With Me</h3>
  <div class="breathe-circle" id="breathe-circle"></div>
  <button onclick="startBreathing()" aria-label="Start breathing exercise">ü´Å Start</button>

  <div class="footer">HealingLensStudio | For the Quiet in You</div>

  <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
  <script>
    const prompts = {
      mindfulness: [
        "Pause. Place one hand on your chest. Feel one full breath enter and leave.",
        "Notice one sound around you that feels calming. Stay with it.",
        "Close your eyes and imagine your favorite place in nature.",
        "Unclench your jaw. Drop your shoulders. Exhale slowly.",
        "Sip water slowly ‚Äî feel it as a reset ritual.",
        "Look outside. Find something still and breathe with it.",
        "Count your breaths up to ten, then begin again.",
        "Touch something near you and notice its texture.",
        "Imagine your breath as waves. Let them wash in and out.",
        "Whisper a kind word to yourself as you would to a friend."
        // ‚Ä¶ expand to 25
      ],
      movement: [
        "Stretch your arms overhead like you‚Äôre greeting the sun.",
        "Roll your shoulders back three times.",
        "Sway gently side to side like tall grass.",
        "Rotate your wrists and ankles, thanking them.",
        "Stand tall. Imagine a string lifting your head.",
        "Shake your hands as if letting go of the day.",
        "Stretch your spine tall, then fold forward gently.",
        "Tap your feet on the floor rhythmically.",
        "Stretch your side body with one arm overhead.",
        "Circle your shoulders slowly like waves."
        // ‚Ä¶ expand to 25
      ],
      kindness: [
        "Whisper to yourself: 'I am doing enough.'",
        "Forgive yourself for something small today.",
        "Whisper your name with kindness.",
        "Say softly: 'I am allowed to rest without guilt.'",
        "Affirm: 'I am enough exactly as I am.'",
        "Imagine hugging your younger self.",
        "Whisper: 'I am safe to soften.'",
        "Say: 'I belong here, exactly as I am.'",
        "Affirm: 'Rest is medicine.'",
        "Say: 'Love doesn‚Äôt have to be earned.'"
        // ‚Ä¶ expand to 25
      ],
      creativity: [
        "Write a one-line poem about the sky.",
        "Sketch something near you without judgment.",
        "Write: 'Today I want to remember‚Ä¶'",
        "Imagine a safe place. Describe it.",
        "Doodle for 2 minutes with no rules.",
        "Write one sentence to your future self.",
        "Draw a symbol of how you feel today.",
        "Write: 'The story I am telling myself is‚Ä¶'",
        "Sketch something that makes you smile.",
        "Write a haiku about this moment."
        // ‚Ä¶ expand to 25
      ]
    };

    const affirmations = {
      mindfulness: ["I can return to my breath anytime.", "This moment is enough."],
      movement: ["My body deserves gentle movement.", "I release tension step by step."],
      kindness: ["I am worthy of love exactly as I am.", "Softness is strength."],
      creativity: ["Expression is healing.", "My ideas do not need to be perfect."]
      // ‚Ä¶ expand each to ~25
    };

    const lastPromptByCategory = {};
    let favorites = JSON.parse(localStorage.getItem("favorites")) || [];

    function newPrompt() {
      const category = document.getElementById("category").value;
      const mode = document.querySelector('input[name="mode"]:checked').value;
      const set = (mode === "prompt" ? prompts : affirmations)[category];
      let randomIndex;
      do {
        randomIndex = Math.floor(Math.random() * set.length);
      } while (randomIndex === lastPromptByCategory[category] && set.length > 1);
      lastPromptByCategory[category] = randomIndex;
      const text = set[randomIndex];
      document.getElementById("prompt").innerText = text + (mode === "prompt" ? "\n\nüåø Breathe this in. Try writing one line in your journal." : "");
    }

    // Show daily prompt on load
    window.onload = () => { newPrompt(); };

    function copyPrompt() {
      const text = document.getElementById("prompt").innerText;
      navigator.clipboard.writeText(text).then(() => alert("Prompt copied!"));
    }

    function savePrompt() {
      html2canvas(document.querySelector(".prompt-box")).then(canvas => {
        const link = document.createElement("a");
        link.download = "healinglensstudio-prompt.png";
        link.href = canvas.toDataURL();
        link.click();
      });
    }

    function addFavorite() {
      const text = document.getElementById("prompt").innerText;
      if (!favorites.includes(text)) {
        favorites.push(text);
        localStorage.setItem("favorites", JSON.stringify(favorites));
        alert("‚≠ê Saved to favorites!");
      }
    }

    function viewFavorites() {
      const list = favorites.length ? favorites.map(f => `<li>${f}</li>`).join("") : "<li>No favorites yet.</li>";
      document.getElementById("favorites").innerHTML = `<h4>Your Favorites:</h4><ul>${list}</ul>`;
    }

    function startBreathing() {
      const circle = document.getElementById("breathe-circle");
      circle.style.display = "block";
      circle.animate([
        { transform: "scale(1)", background: "#EED9D0" },
        { transform: "scale(1.5)", background: "#D5E0D5" },
        { transform: "scale(1)", background: "#EED9D0" }
      ], {
        duration: 8000,
        iterations: 4
      });
      alert("ü´Å Inhale as the circle grows, exhale as it shrinks.");
    }
  </script>
</body>
</html>


